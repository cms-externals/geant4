
                       geant4-10-05-ref-05
                       ===================

Major development/fixes included since the last development tag are:

 o Field interpolation driver is now set as the default.
 o Added support for writing out assemblies envelopes in GDML.
 o Some code cleanup in G4DynamicParticle.
 o Modified lateral displacement sampling in G4UrbanMscModel.
 o Use Glauber-Gribov cross-section for hyperons in hadron elastic physics.
 o Use FTFP also for the annihilation at rest of neutral anti-hadrons.
 o Added new model for low-energy hadron-elastic physics.
 o Added new model based on pre-compound de-excitation.
 o Updated to data-set G4PARTICLEXS-2.0

---------- Reference-tag 'Release Notes' -----------


Summarised, the list of changes is the following:

cmake                                            cmake-V10-05-04
-----
- Promoted VecGeom pre-processor flags to fixed #defines in a new header
  generated by CMake.
- Updated to data-set G4PARTICLEXS-2.0

config                                           config-V10-05-01
------
- Hard-code Qt version through QT_VERSION flag.
  Corrected Qt5 setup for Linux-g++ and Linux-clang.

geometry/magneticfield                           field-V10-05-02
----------------------
- Interpolation driver is now set as the default.

geometry/management                              geommng-V10-05-06
-------------------
- Properly initialise splitted data in G4VPhysicalVolume to zero.
- Replaced deprecated std::binary_function calls with lambdas in
  G4SmartVoxelStat and G4GeometryManager. Addressing GitHub PR#8.
- Defined move constructor and move assignment operator for G4AffineTransform.
- Use header-based #define/undef symbols to configure VecGeom replacements;
  added new configuration headers G4GeomConfig.hh and G4GeomTypes.hh.

geometry/solids/csg                              geom-csg-V10-05-00
-------------------
- Added inclusion of new G4GeomTypes.hh header to those headers allowing
  VecGeom replacement.

geometry/solids/specific                         geom-specific-V10-05-08
------------------------
- Defined move constructor and move assignment operator for G4TriangularFacet.
- Added inclusion of new G4GeomTypes.hh header to those headers allowing
  VecGeom replacement.

global                                           global-V10-05-09
------
- Defined default move constructor and move assignment operator for
  G4String and G4DataVector.
- Updated date and tag-ID for geant4-10-05-ref-05.

particles                                   particles-V10-05-05
---------
- Code cleanup in G4DynamicParticle: moved data members to be private;
  removed Boolean flag; aligned class members 3-vectors, doubles, integer;
  added initialisation of PDG code and polarization in all constructors;
  added method SetPolarisation(); use CLHEP electron mass; removed unused
  forward declarations and headers.

persistency/gdml                                 gdml-V10-05-05
----------------
- Added support for writing out assemblies envelopes.
- Improved reading of optical properties reader, by allowing reuse of the
  same G4MaterialPropertyVector object for identical properties.

physics_lists/constructors/electromagnetic       phys-ctor-em-V10-05-10
------------------------------------------
- G4EmLivermorePhysics, G4EmPenelopePhysics, G4EmStandardPhysics_option4,
  G4EmStandardPhysics_option3: define upper energy limit for nuclear stopping
  via EM parameters. In all DNA constructors, added ActivateDNA() flag to
  EM parameters.
- Added G4EmDNAChemistry_option2 constructor.

physics_lists/constructors/gamma_lepto_nuclear   phys-ctor-glnuclearV10-05-01
----------------------------------------------
- G4EmExtraPhysics: added muon-neutrino nucleus interactions.

physics_lists/constructors/hadron_elastic        phys-ctor-helastic-V10-05-01
-----------------------------------------
- G4HadronElasticPhysics: use Glauber-Gribov cross-section for hyperons.
- G4HadronDElasticPhysics, G4HadronDElasticPhysics: use Glauber-Gribov
  cross-section for hyperons, d, t, He3, He4.
- G4HadronElasticPhysicsXS, G4IonElasticPhysics: removed commented lines.

physics_lists/constructors/stopping              phys-ctor-stopping-V10-05-00
-----------------------------------
- Use FTFP also for the annihilation at rest of neutral anti-hadrons:
  anti-neutron, anti-lambda, anti-sigma0 anti-xi0.
  This extension is for completeness and practical convenience, although
  physically neutral hadrons should never be completely at rest.

processes/electromagnetic/dna                    emdna-V10-05-05
-----------------------------
- Added G4DNAMolecule class.

processes/electromagnetic/standard               emstand-V10-05-12
----------------------------------
- Modified lateral displacement sampling in G4UrbanMscModel.
- G4ScreeningMottCrossSection, G4KleinNishinaModel, G4SeltzerBergerModel,
  G4eSingleCoulombScatteringModel: use element->GetZasInt() interface
  in order to reduce number of double->int conversions at run time.

processes/electromagnetic/utils                  emutils-V10-05-11
-------------------------------
- G4EmParameters, G4EmParametersMessenger: splitted classes keeping the user
  interface unchanged;
- Added new classes for complex EM parameters (G4EmExtraParameters
  G4EmExtraParametersMessenger) and new classes for low-energy and DNA
  parameters (G4EmLowEParameters, G4EmLowEParametersMessenger). 
  Added extra parameters.

processes/hadronic
------------------
- cross_sections (hadr-cross-V10-05-14)
  o G4ComponentGGHadronNucleusXsc, G4ComponentGGNuclNuclXsc: removed remaining
    unused obsolete methods and members; use G4NuclearRadii utility to compute
    nuclear radius.
  o G4NeutronCaptureXS, G4NeutronElasticXS, G4NeutronInelasticXS
    G4ParticleInelasticXS: code clean-up, assuming usage of the new 
    data-set G4PARTICLEXSDATA2.0; removed unused variables and methods;
    use only methods with logarithm of energy.
  o G4ParticleInelasticXS: set verbosity to 0.
  o G4VCrossSectionDataSet, G4CrossSectionDataStore, G4IonProtonCrossSection:
    use only methods with logarithm of energy.
  o G4ComponentGGHadronNucleusXsc,  G4ComponentGGNuclNuclXsc removed unused
    obsolete methods.
  o G4BGGNucleonElasticXS: reduce low-energy limit from 1 to 0.75 MeV.
  o G4HadronNucleonXsc: improved K+p parameterisations (NS and VG);
    removed obsolete methods.
  o G4MuNeutrinoNucleusTotXsc: added new method GetElementCrossSection().
  o G4ParticleInelasticXS, G4BGGPionElasticXS, G4BGGPionInelasticXS,
    G4BGGNucleonElasticXS, G4BGGNucleonInelasticXS,
    G4NucleonNuclearCrossSection, G4ComponentBarNucleonNucleusXsc,
    G4UPiNuclearCrossSection: share internal data vectors between threads;
    initialise data once; removed unused parameters; code clean-up; use C++11
    keywords.
- management (hadr-man-V10-05-00)
  o G4HadronicInelasticProcess: removed default GHEISHA cross-section.
- models/coherent_elastic (hadr-cohe-V10-05-03)
  o G4HadronElastic: numerically safer treatment of the very rare cases
    in which cos(theta) is either greater than 1.0 or smaller than -1.0
    (in the first case, we assume no interaction and the projectile keeps
    going unchanged; in the second case, we assume that the projectile
    stops and its kinetic energy is deposited locally, neglecting the
    recoil of the target nucleus).
    Added protected variable pLocalTmax; added protection for zero energy
    primary.
  o Added new model class G4LowEHadronElastic.
  o G4ChargeExchange: updated interfaces; added protection for zero energy
    primary.
  o G4ElasticHadrNucleusHE: make all data shared between threads.
  o G4AntiNuclElastic: do not compute trigonometric functions, which are
    not used.
  o G4ElasticHadrNucleusHE, G4LEpp, G4LEnp: code clean-up.
- models/de_excitation (hadr-deex-V10-05-05)
  o G4VEmissionProbability: use simple rejection.
  o G4FermiFragment: fixed Coulomb barrier correction computation.
  o Replaced deprecated std::binary_function calls with lambdas in
    G4StatMFMicroCanonical and G4StatMFChannel. Addressing GitHub PR#8.
  o G4EvaporationChannel, G4EvaporationProbability, G4FermiDecayProbability,
    G4VEmissionProbability: simplified algorithm to sample kinetic energy of
    a fragment; minor code clean-up, removed commented lines.
- models/lend (hadr-lend-V10-05-00)
  o Fixed compilation warnings on gcc-9.1 for missing assignment operator.
- models/lepto_nuclear (hadr-lepnuc-V10-05-00)
  o Neutrino-nucleus models and precalculated distribuitons as from
    new data-set G4PARTICLEXS-2.0.
- models/particle_hp (hadr-hpp-V10-05-02)
  o Fix to deal with incorrect excitation energy when charged particles are
    emitted during neutron reaction. In G4ParticleHPInelasticCompFS, changed
    method CompositeApply(), for very small excitation, change level index
    from -1 to 0 only if incident and outgoing particles are the same.
    Addressing problem report #1838.
- models/pre_equilibrium (hadr-pre-V10-05-01)
  o Added new model based on pre-compound de-excitation G4LowEGammaNuclearModel.
  o G4PreCompoundEmission, G4PreCompoundFragment, G4VPreCompoundFragment:
    setup minimum number of points for probability integration to 4;
    minor code clean-up.
- models/radioactive_decay (radioactive_decay-V10-05-02)
  o Fixed incorrect branching ratio sum for biased mode, to account for the
    addition of N shell EC capture and spontaneous fission.
- models/util (hadr-mod-util-V10-05-00)
  o G4NuclearRadii: new utility class with several parameterisations of
    nuclear radius.
- processes (hadr-proc-V10-05-05)
  o G4HadronElasticProcess: added protection for zero energy primary.
    Removed final state rotation. Removed default GHEISHA cross-section.
  o G4MuNeutrinoNucleusProcess : new process managing G4NuMuNucleusCc(Nc)Model
    models.
- stopping (hadr-stopping-V10-05-00)
  o G4HadronicAbsorptionFritof: extended to neutral anti-hadrons (anti-neutron,
    anti-lambda, anti-sigma0 and anti-xi0). This extension is for completeness
    and practical convenience, although physically neutral hadrons should never
    be completely at rest.
- util (hadr-util-V10-05-01)
  o G4HadProjectile: clean-up for small kinetic energy of the projectile.
  o G4HadFinalState, G4Bessel, G4ReactionProduct, G4GHEKinematicsVector:
    replaced fabs() with abs().

processes/optical                                op-V10-05-00
-----------------
- Code cleanup and formatting, added C++11 keywords.

track                                            track-V10-05-00
-----
- G4Track: added forward declaration for G4VProcess.

visualization
-------------
- OpenInventor (openinventor-V10-05-03):
  o Fixed compilation warning from gcc-9.1 in SoCounterAction for setting
    of name, apparently not allowed in OpenInventor.

data sets:
---------
- G4PARTICLEXS-2.0:
  o Added data for neutrino.
  o Updated cross-sections for low Z targets at low energy.

examples                                         examples-V10-05-05
--------
- Updated documentation and reference outputs.
- advanced/underground_physics (DMX-V10-05-01)
  o DMXPhysicsList: added Glauber-Gribov cross-section for all elastic 
    processes.
- extended/biasing/B03 (B03-V10-05-00)
  o B03PhysicsList: explicitly define hadronic cross-sections.
- extended/electromagnetic/TestEm17 (testem17-V10-05-00)
  o Code clean-up; switch to MixMax random generator.
- extended/medical/dna (exdna-V10-05-00)
- extended/medical/dna/dnadamage1 (dnadamage1-V10-05-00)
  o New example showing a simple way to simulate dna direct and indirect
    damages using Geant4-DNA physics and chemical processes in a molecular
    DNA geometry.
- extended/medical/electronScattering2 (exampleES2-V10-05-00)
  o Fixed warning about attempting to add multiple times the same sensitive
    detector.
- extended/optical/LXe (LXe-V10-05-00)
  o LXeDetectorConstruction: removed protection against rebuilding detector.
  o LXeEventAction: commented out randomSaveEvent.
- extended/parallel/MPI (MPI-V10-05-00)
  o Fixed compilation error in G4MPIextraWorker.
    Addressing problem report #2163.
- extended/persistency/gdml/G01 (G01-V10-05-03)
  o Added BeamOn(0) to initialize range to energy converters
    needed when exporting cuts per volume.

tests                                            tests-V10-05-05
-----
- Updated reference outputs and tools.
- tests/test04 (test04-V10-05-00)
  o Use FTFP_BERT_HP PhysicsList and Mixmax random engine.
- tests/test11 (test11-V10-05-00)
  o Use FTFP_BERT_HP PhysicsList.
- tests/test13 (test13-V10-05-00)
  o Use QGSP_BERT PhysicsList and MixMax random engine.
- tests/test16 (test16-V10-05-00)
  o Use QGSP_BIC PhysicsList and MixMax random engine.
- tests/test18 (test18-V10-05-00)
  o Use QGSP_BIC and G4RadioactiveDecayPhysics PhysicsLists.
- tests/test24 (test24-V10-05-00)
  o Use QGSP_BIC PhysicsList and MixMax random engine.
- tests/test25 (test25-V10-05-00)
  o Use FTFP_BERT PhysicsList and MixMax random engine.
- tests/test27 (test27-V10-05-00)
  o Use QGSP_BIC PhysicsList and MixMax random engine.
- tests/test28 (test28-V10-05-00)
  o Tst28PhysicsList: use Glauber-Gribov cross-sections.
- tests/test30 (test30-V10-05-00)
  o Added G4LowEHadronElastic model in main().
- tests/test33 (test33-V10-05-00)
  o Tst33PhysicsList: defined default cross-sectionbs for all hadrons.
- tests/test61 (test61-V10-05-00)
  o Use Shielding PhysicsList and Mixmax random engine.
- tests/test65 (test65-V10-05-00)
  o Use ShieldingLEND PhysicsList and Mixmax random engine.
