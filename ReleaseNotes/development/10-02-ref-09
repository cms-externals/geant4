
                       geant4-10-02-ref-09
                       ===================

Major development/fixes included since the last development tag are:

 o Enabled creating/configuring profiles without cut values in analysis module.
 o Re-implemented CalculateExtent() of G4Tubs, G4Para, G4Trd, G4Trap.
 o Introducing new G4State_Init state in G4RunManager while initialization
   phase.
 o Updated data set G4PhotonEvaporation-4.0.

---------- Reference-tag 'Release Notes' -----------

(*)  Fixes included in release 10.2.p03

Summarised, the list of changes is the following:

cmake                                            cmake-V10-02-22
-----
- Added option for TEXT output file in FindStatTest.cmake script.
- Updated to data set G4PhotonEvaporation-4.0.

analysis                                         analysis-V10-02-12
--------
- Enabled creating/configuring profiles without cut values (vmin, vmax).
  These values are now treated in a special way.
- Fixed duplicating Csv ntuple header.
- Renamed G4Parameter in G4Accumulable including all related classes and
  subdirectory parameters.

digits_hits                                      digits_hits-V10-02-08
-----------
- Built-in scorer now uses G4StatDouble.
- Further clean up in G4THitsMap, G4VScoringMesh with c++11 templates.

geometry
--------
- management (geommng-V10-02-21):
  o G4BoundingEnvelope: added QuickCheck() function for verification of
    bounding-box and envelopes correctness. Corrected use of 'const' data
    to resolve Coverity defects.
  o Added checks for bounding-box extents in G4USolid. Make direct use of
    extent from shapes for computing bounding-box in CalculateExtent()
- solids/CSG (geom-csg-V10-02-14):
  o G4Tubs: added construction of bounding envelope in CalculateExtent().
  o G4Box, G4Tubs: added Extent() method and checks on extent validity.
  o G4UBox, G4UTubs: use same CalculateExtent() technique as for G4Box
    and G4Tubs.
  o Re-implemented CalculateExtent() of G4Para, G4Trd, G4Trap to make use of
    G4BoundingEnvelope; removed no-longer used method CreateRotatedVertices()
    implementation. Use same algorithm in G4UTrd and G4UTrap wrappers.
- solids/specific (geom-specific-V10-02-13)
  o Moved accessors/modifiers for splitter data to non-inline in             (*)
    G4PolyhedraSide and G4PolyconeSide.
    Explicitly initialise G4GeomSplitter data in G4SolidsWorkspace
    translation unit.
    Fixing compilation/linking errors on clang-3.9 and XCode-8 on MacOS.
- volumes (geomvol-V10-02-02)                                                (*)
  o Explicitly initialise G4GeomSplitter offset in G4GeometryWorkspace
    translation unit.
    Fixing compilation/linking errors on clang-3.9 and XCode-8 on MacOS.

global                                           global-V10-02-27
------
- Added kilovolt/m and megavolt/m to G4UnitsTable for electric field.
  Addressing enhancement request #1891.

materials                                        materials-V10-02-13
---------
- G4NistMaterialBuilder: reviewed and updated BioChemicalMaterials() method,
  which now instantiate two type of materials: G4_XXXXX (molecule in its free
  state) and G4_DNA_XXXXX (molecule, considering atoms lost in bonding).

particles                                        particles-V10-02-27
---------
- Added G4MuonicAtom class, along with minimal changes to G4IonTable
  to allow creation of muonic atoms.
- Moved accessors/modifiers for splitter data to non-inline in               (*)
  G4ParticleDefinition. Explicitly initialise G4PDefSplitter data in
  G4ParticlesWorkspace translation unit.
  Fixing compilation/linking errors on clang-3.9 and XCode-8 on MacOS.

persistency/gdml                                 gdml-V10-02-08
----------------
- Replaced obsolete call to 'Invisible' with 'G4VisAttributes::GetInvisible()'
  in G4GDMLReadStructure::GetWorldVolume().

physics_lists
-------------
- constructors/electromagnetic (phys-ctor-em-V10-02-28)
  o G4EmStandardPhysicsWVI: changed option set.

processes/electromagnetic/lowenergy              emlowen-V10-02-09
-----------------------------------
- Adopt c++11 features in Penelope models (nullptr, range-based loops).

processes/electromagnetic/utils                  emutils-V10-02-33
-------------------------------
- G4EmParameters: accept changes during the G4State_Init state.
  Added private method Initialise() additionally to SetDefaults() to
  provide more safe initialisation of custom EM physics lists.

processes/hadronic
------------------
- processes/hadronic/models/particle_hp (hadr-hpp-V10-02-24)
  o Fixed warning messages from clang 3.8/3.9.                               (*)
- models/parton_string/hadronization (had-hadronization-V10-02-14)
  o Bux fix and code cleanup in LUND string-fragmentation.
- models/parton_string/management (hadr-partonstring-mgt-V10-02-02)
  o G4VPartonStringModel: throw exception for the case when string
    fragmentation does not produce hadrons.
- models/radioactive_decay (radioactive_decay-V10-02-12)
  o G4BetaMinusDecay::SetUpBetaSpectrumSampler: added missing initialization
    of spectrum sampler; added protection in DecayIt() for spectrum sampler
    to avoid cases of unitialized data. In SetUpBetaSpectrumSampler(),
    corrected array creation.
  o G4RadioactiveDecayRate: fix in copy-constructor to restore precision
    level in cout.

run                                              run-V10-02-25
---
- Geant4 is now in G4State_Init state while initialization phase; enforced
  also in G4GunManagerKernel.

visualization                                    vis-V10-02-19
-------------
- management:
  o G4VViewer: introduced TouchableSetVisibility() and TouchableSetColour().
    Introduced SetTouchable() to set the touchable for /vis/touchable/set/...
    commands.
  o G4Scene: replaced warning reference to obsolete.                         (*)
    G4VisAttributes::Invisible to G4VisAttributes::GetInvisible()
  o /vis/viewer/save and /vis/viewer/interpolate: default filename
    extension changed to .g4view.
  o Removed duplicate operator<<.
  o Moved Vis Attributes Modifiers (VAMs) back to G4ModelingParameters.
  o Replaced all r-value references, e.g., auto&&, with simple l-value
    references, e.g., const auto&.
  o GetColour()/GetColor() no longer take an argument.
  o Make sure applicable vis attributes are obtained.
- modeling:
  o Moved Vis Attributes Modifiers (VAMs) back from G4ViewParameters.
  o G4PhysicalVolumeModel: use static to ensure a plausible visualisation
    attributes pointer.
  o G4ModelingParameters.cc: improved output of PVNameCopyNoPath.
- OpenGL:
  o Introduced /vis/ogl/flushAt command.
  o Adapted to the move of Vis Attributes Modifiers back to
    G4ModelingParameters.
  o Added flag to handle scene tree interaction better.
  o Re-instated G4OpenGLStoredQtViewer::CompareForKernelVisit()
  o Uses G4VViewer::TouchableSetVisibility() and TouchableSetColour().
    Added calls to SetTouchable().
  o GetColour()/GetColor() no longer take an argument.
  o Make sure applicable vis attributes are obtained.
  o Code cleanup.
- FukuiRenderer, HepRep, VRML:
  o GetColour()/GetColor() no longer take an argument.
  o Make sure applicable vis attributes are obtained.

data sets:
---------
- G4PhotonEvaporation-4.0:
  o New data files updated with floating levels, multipolarity and mixing
    ratio data. New files are in Z*.txt files, documented in
    README-LevelGammaData_Extended.

examples                                         examples-V10-02-09
--------
- Updated documentation and reference outputs.
- basic/B1 (exampleB1-V10-02-01)
  o Updated for renaming G4Parameter in G4Accumulable.
  o vis.mac: addition to make "Envelope" transparent blue.
- basic/B3 (exampleB3-V10-02-02)
  o Updated for renaming G4Parameter in G4Accumulable.
- extended/analysis/AnaEx01 (AnaEx01-V10-02-02)
  o Removed Hbook.
- extended/electromagnetic/TestEm0 (testem0-V10-02-05)
  o DetectorConstruction: do not re-create geometry when changing material.
- extended/electromagnetic/TestEm1 (testem1-V10-02-07)
  o PhysicsList: enabling of CSDA range computation is moved to
    UI command in input macro TestEm1.in
  o DetectorConstruction: do not re-initialise geometry when changing box size.
- extended/electromagnetic/TestEm4 (testem4-V10-02-04)
  o Code cleanup.
- extended/electromagnetic/TestEm12 (testem12-V10-02-04)
  o PhysicsList: moved enabling of the CSDA flag in order to guarantee
    correct flags setting.
  o RunAction: added dump of EM parameters.
  o Set default number of threads 4 in main().
  o DetectorConstruction, DetectorMessenger: allow to change number of layers
    only in the PreInit state; do not clean and reinitialise geometry when
    changing sphere radii.
- extended/hadronic (exHadronic-V10-02-03)
- extended/hadronic/Hadr03 (exhadr03-V10-02-02)
  o Changed name GammaPhysics to GammaNuclearPhysics.
- extended/hadronic/Hadr06 (exhadr06-V10-02-03)
- extended/hadronic/Hadr07 (exhadr07-V10-02-05)
  o Changed name GammaPhysics to GammaNuclearPhysics,
    EmStandardPhysics to ElectromagneticPhysics.
- extended/hadronic/NeutronSource (NeutronSource-V10-02-00)
  o New example illustrating the cooperative work of nuclear reactions
    and radioactive decay processes.
- extended/medical/dna/chem4 (chem4-V10-02-02)
  o New example showing how to activate chemistry code and score the
    radiochemical yield G.
- extended/optical/wls (WLS-V10-02-00)
  o Fixed coding guidelines.

tests                                            tests-V10-02-09
-----
- Updated reference outputs and tools.
- tests/test03 (test03-V10-02-02)
  o Removed testing of HBook.
- tests/test08 (test08-V10-02-02)
  o New test for analysis/parameters.
- tests/test10 (test10-V10-02-00)
  o Added G4Trap among tested shapes.
