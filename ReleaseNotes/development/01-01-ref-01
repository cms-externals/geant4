
                       geant4-01-01-ref-01
                       ===================

Some of the improvements and fixes included since the last
recommended reference tag are:
    - major update to STEP reader and BREPS related classes
    - full STL migration started for particles and processes
      management and addition of ParticleSubType property.
    - integrated G4RayTracer graphics driver to G4 API.
    - reorganisation and fixes to standard EM processes.

---------- Reference-tag 'Release Notes' -----------

Summarised, the full list of changes is the following:

config
------
- Fixed FCLIBS for Linux-g++ architectures.
- Improved script for shared libraries builds.

global
------
- STLInterface wrappers: fixed initialization of base STL vector in
  default constructor of vector collections.
- Added class G4PhysicsLnVector implementing a physics vector with
  natural logarithmic scale for energy/momentum bins.

hadronics
---------
- Fixed units in the low-energy Neutron Transport model for energy
  non-conservation.

electromagnetic processes
-------------------------
- Internal reorganisation of the Eloss classes.
- Fixed some bugs in the Muon Pair production.

geometry
--------
- CSG solids:
  o Fixed bug in G4PolyhedraSide::Normal(...). This fixes a problem
    observed in G4Polyhedra::SurfaceNormal;
  o Added more diagnostics in G4Cons, G4Sphere and G4Torus in function
    DistanceToOut(p,v,...).
- BREPS solids:
  o Decoupled module from the STEP Reader;
  o Fixed memory leak in G4BSplineSurface, fixed initialisation of
    pointers and data in several classes;
  o General code cleanup.
- STEP:
  o Upgraded NIST STEP Reader to SCL (STEP Class Library) 3.2;
  o Implemented porting on supported platforms/compilers
    and ISO-ANSI C++ compliance.
- STEP Interface module:
  o Implemented porting to support the new NIST STEP Reader;
  o Reduced inter-class dependencies by reorganising include
    statements.
  o Improved overall diagnostics and fixed internal memory-leaks;
  o Added protections for NULL pointers generated by missing
    geometry creators.
  o implemented temporary solution for association of placements
    with manifolded solids for advanced BREP shape representations.
- Minor fixes to internal unit tests for ISO-ANSI C++ compliance.

materials
---------
- Fix for const char* arguments in G4MaterialPropertiesTable.

particles
---------
- Full migration to STL performed.
- Introduced ParticleSubType property in ParticleDefinition.
- Fixed bug in G4NucleiProperties .
- Added "rho0" in G4ShortLivedConstructor.
- Removed G4RhoPlus, G4RhoZero, and G4RhoMinus classes.
- Added GetAtomicNumber() and GetAtomicMass() methods to G4VIon,
  G4Proton, and G4Neutron.

processes - management/decay
----------------------------
- Introduced changes for full migration to STL.
- Added process registration into ProcessTable in copy constructor.
- Fixed registration of "shortlived" particles for G4Decay.

visualization
-------------
- Integrated G4RayTracer with standard driver interface. 
- Minor improvements to command /vis/viewer/refresh.
- Added protection for null viewer in G4RTSteppingAction and
  G4RayTrajectory.

g3tog4 tool
-----------
- Removed obsolete files and minor fixes.
- Excluded placement of the top-level logical volume in
  G3toG4BuildTree.
- Added fixes and checks to G3VolTable.
- Introduced G3Pos::GetOnly().
- Fixed G3Division::CreateSolid() for the case
  ( shape == "TUBS") && ( fIAxis == 1 ).

examples
--------
- Updated PhysicsList according to recent changes in particles
  and processes management.
- Minor fixes to extended/electromagnetics examples.
- Updated all reference output files (to SUN-CC, non-ISO run).
